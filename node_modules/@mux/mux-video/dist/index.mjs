var ai=Object.defineProperty;var di=Object.getPrototypeOf;var ui=Reflect.get;var Ae=e=>{throw TypeError(e)};var ci=(e,r,t)=>r in e?ai(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var E=(e,r,t)=>ci(e,typeof r!="symbol"?r+"":r,t),de=(e,r,t)=>r.has(e)||Ae("Cannot "+t);var i=(e,r,t)=>(de(e,r,"read from private field"),t?t.call(e):r.get(e)),h=(e,r,t)=>r.has(e)?Ae("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t),c=(e,r,t,s)=>(de(e,r,"write to private field"),s?s.call(e,t):r.set(e,t),t),v=(e,r,t)=>(de(e,r,"access private method"),t);var Wt=(e,r,t)=>ui(di(e),t,r);var gt=class{addEventListener(){}removeEventListener(){}dispatchEvent(r){return!0}};if(typeof DocumentFragment=="undefined"){class e extends gt{}globalThis.DocumentFragment=e}var Lt=class extends gt{},ue=class extends gt{},hi={get(e){},define(e,r,t){},getName(e){return null},upgrade(e){},whenDefined(e){return Promise.resolve(Lt)}},Mt,ce=class{constructor(r,t={}){h(this,Mt);c(this,Mt,t==null?void 0:t.detail)}get detail(){return i(this,Mt)}initCustomEvent(){}};Mt=new WeakMap;function li(e,r){return new Lt}var ke={document:{createElement:li},DocumentFragment,customElements:hi,CustomEvent:ce,EventTarget:gt,HTMLElement:Lt,HTMLVideoElement:ue},Se=typeof window=="undefined"||typeof globalThis.customElements=="undefined",$t=Se?ke:globalThis,ji=Se?ke.document:globalThis.document;import{initialize as Ai,teardown as ki,generatePlayerInitTime as Si,PlaybackTypes as oe,toMuxVideoURL as Ri,MediaError as Es,getError as Ci,CmcdTypeValues as si,addCuePoints as _i,getCuePoints as Ii,getActiveCuePoint as Pi,addChapters as Oi,getActiveChapter as Li,getStartDate as Mi,getCurrentPdt as Ni,getStreamType as wi,getTargetLiveWindow as xi,getLiveEdgeStart as Di,getSeekable as Vi,getEnded as Gi,getChapters as Bi,toPlaybackIdFromSrc as Ki,toPlaybackIdParts as qi}from"@mux/playback-core";var fi=()=>{try{return"0.24.2"}catch{}return"UNKNOWN"},mi=fi(),Re=()=>mi;var fe=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],Ie=["autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"];function pi(e){return`
    <style>
      :host {
        display: inline-flex;
        line-height: 0;
        flex-direction: column;
        justify-content: end;
      }

      audio {
        width: 100%;
      }
    </style>
    <slot name="media">
      <audio${we(e)}></audio>
    </slot>
    <slot></slot>
  `}function gi(e){return`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, 50% 50%);
      }

      video::-webkit-media-text-track-container {
        transform: var(--media-webkit-text-track-transform);
        transition: var(--media-webkit-text-track-transition);
      }
    </style>
    <slot name="media">
      <video${we(e)}></video>
    </slot>
    <slot></slot>
  `}function Ne(e,{tag:r,is:t}){var l,m,d,b,M,Pe,it,a,p,R,k,ot,he,Oe,le,Le,Me;let s=(m=(l=globalThis.document)==null?void 0:l.createElement)==null?void 0:m.call(l,r,{is:t}),n=s?Ei(s):[];return d=class extends e{constructor(){super(...arguments);h(this,k);h(this,it,!1);h(this,a,null);h(this,p,new Map);h(this,R);E(this,"get");E(this,"set");E(this,"call")}static get observedAttributes(){var g,I,S;return v(g=d,M,Pe).call(g),[...(S=(I=s==null?void 0:s.constructor)==null?void 0:I.observedAttributes)!=null?S:[],...Ie]}get nativeEl(){var f,g,I,S,A;return v(this,k,ot).call(this),(A=(S=(g=(f=i(this,a))!=null?f:this.querySelector(":scope > [slot=media]"))!=null?g:this.querySelector(r))!=null?S:(I=this.shadowRoot)==null?void 0:I.querySelector(r))!=null?A:null}set nativeEl(f){c(this,a,f)}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(f){this.toggleAttribute("muted",f)}get src(){return this.getAttribute("src")}set src(f){this.setAttribute("src",`${f}`)}get preload(){var f,g;return(g=this.getAttribute("preload"))!=null?g:(f=this.nativeEl)==null?void 0:f.preload}set preload(f){this.setAttribute("preload",`${f}`)}init(){var f;if(!this.shadowRoot){this.attachShadow({mode:"open"});let g=bi(this.attributes);t&&(g.is=t),r&&(g.part=r),this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(g)}this.nativeEl.muted=this.hasAttribute("muted");for(let g of n)v(this,k,Le).call(this,g);c(this,R,new MutationObserver(v(this,k,Oe).bind(this))),this.shadowRoot.addEventListener("slotchange",this),v(this,k,he).call(this);for(let g of this.constructor.Events)(f=this.shadowRoot)==null||f.addEventListener(g,this,!0)}handleEvent(f){if(f.type==="slotchange"){v(this,k,he).call(this);return}f.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(f.type,{detail:f.detail}))}attributeChangedCallback(f,g,I){v(this,k,ot).call(this),v(this,k,Me).call(this,f,g,I)}connectedCallback(){v(this,k,ot).call(this)}},b=new WeakMap,M=new WeakSet,Pe=function(){if(i(this,b))return;c(this,b,!0);let f=new Set(this.observedAttributes);f.delete("muted");for(let g of n)if(!(g in this.prototype))if(typeof s[g]=="function")this.prototype[g]=function(...I){return v(this,k,ot).call(this),(()=>{var P;if(this.call)return this.call(g,...I);let A=(P=this.nativeEl)==null?void 0:P[g];return A==null?void 0:A.apply(this.nativeEl,I)})()};else{let I={get(){var A,P,Ot;v(this,k,ot).call(this);let S=g.toLowerCase();if(f.has(S)){let pt=this.getAttribute(S);return pt===null?!1:pt===""?!0:pt}return(Ot=(A=this.get)==null?void 0:A.call(this,g))!=null?Ot:(P=this.nativeEl)==null?void 0:P[g]}};g!==g.toUpperCase()&&(I.set=function(S){v(this,k,ot).call(this);let A=g.toLowerCase();if(f.has(A)){S===!0||S===!1||S==null?this.toggleAttribute(A,!!S):this.setAttribute(A,S);return}if(this.set){this.set(g,S);return}this.nativeEl&&(this.nativeEl[g]=S)}),Object.defineProperty(this.prototype,g,I)}},it=new WeakMap,a=new WeakMap,p=new WeakMap,R=new WeakMap,k=new WeakSet,ot=function(){i(this,it)||(c(this,it,!0),this.init())},he=function(){var S;let f=new Map(i(this,p)),g=(S=this.shadowRoot)==null?void 0:S.querySelector("slot:not([name])");(g==null?void 0:g.assignedElements({flatten:!0}).filter(A=>["track","source"].includes(A.localName))).forEach(A=>{var Ot,pt;f.delete(A);let P=i(this,p).get(A);P||(P=A.cloneNode(),i(this,p).set(A,P),(Ot=i(this,R))==null||Ot.observe(A,{attributes:!0})),(pt=this.nativeEl)==null||pt.append(P),v(this,k,le).call(this,P)}),f.forEach((A,P)=>{A.remove(),i(this,p).delete(P)})},Oe=function(f){var g;for(let I of f)if(I.type==="attributes"){let{target:S,attributeName:A}=I,P=i(this,p).get(S);P&&A&&(P.setAttribute(A,(g=S.getAttribute(A))!=null?g:""),v(this,k,le).call(this,P))}},le=function(f){f&&f.localName==="track"&&f.default&&(f.kind==="chapters"||f.kind==="metadata")&&f.track.mode==="disabled"&&(f.track.mode="hidden")},Le=function(f){if(Object.prototype.hasOwnProperty.call(this,f)){let g=this[f];delete this[f],this[f]=g}},Me=function(f,g,I){var S,A,P;["id","class"].includes(f)||!d.observedAttributes.includes(f)&&this.constructor.observedAttributes.includes(f)||(I===null?(S=this.nativeEl)==null||S.removeAttribute(f):((A=this.nativeEl)==null?void 0:A.getAttribute(f))!==I&&((P=this.nativeEl)==null||P.setAttribute(f,I)))},h(d,M),E(d,"getTemplateHTML",r.endsWith("audio")?pi:gi),E(d,"shadowRootOptions",{mode:"open"}),E(d,"Events",fe),h(d,b,!1),d}function Ei(e){let r=[];for(let t=Object.getPrototypeOf(e);t&&t!==HTMLElement.prototype;t=Object.getPrototypeOf(t)){let s=Object.getOwnPropertyNames(t);r.push(...s)}return r}function we(e){let r="";for(let t in e){if(!Ie.includes(t))continue;let s=e[t];s===""?r+=` ${t}`:r+=` ${t}="${s}"`}return r}function bi(e){let r={};for(let t of e)r[t.name]=t.value;return r}var Ce,Ht=Ne((Ce=globalThis.HTMLElement)!=null?Ce:class{},{tag:"video"}),_e,zi=Ne((_e=globalThis.HTMLElement)!=null?_e:class{},{tag:"audio"});var D=new WeakMap,Et=class extends Error{},zt=class extends Error{};var xe=globalThis.WeakRef?class extends Set{add(e){super.add(new WeakRef(e))}forEach(e){super.forEach(r=>{let t=r.deref();t&&e(t)})}}:Set;function De(e){var r,t,s;(t=(r=globalThis.chrome)==null?void 0:r.cast)!=null&&t.isAvailable?(s=globalThis.cast)!=null&&s.framework?e():customElements.whenDefined("google-cast-button").then(e):globalThis.__onGCastApiAvailable=()=>{customElements.whenDefined("google-cast-button").then(e)}}function Ve(){return globalThis.chrome}function Ge(){var t;let e="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1";if((t=globalThis.chrome)!=null&&t.cast||document.querySelector(`script[src="${e}"]`))return;let r=document.createElement("script");r.src=e,document.head.append(r)}function q(){var e,r;return(r=(e=globalThis.cast)==null?void 0:e.framework)==null?void 0:r.CastContext.getInstance()}function Nt(){var e;return(e=q())==null?void 0:e.getCurrentSession()}function Xt(){var e;return(e=Nt())==null?void 0:e.getSessionObj().media[0]}function Be(e){return new Promise((r,t)=>{Xt().editTracksInfo(e,r,t)})}function Ke(e){return new Promise((r,t)=>{Xt().getStatus(e,r,t)})}function me(e){return q().setOptions({...pe(),...e})}function pe(){return{receiverApplicationId:"CC1AD845",autoJoinPolicy:"origin_scoped",androidReceiverCompatible:!1,language:"en-US",resumeSavedSession:!0}}var Jt=new xe,F=new WeakSet,O;De(()=>{var e,r,t,s;if(!((r=(e=globalThis.chrome)==null?void 0:e.cast)!=null&&r.isAvailable)){console.debug("chrome.cast.isAvailable",(s=(t=globalThis.chrome)==null?void 0:t.cast)==null?void 0:s.isAvailable);return}O||(O=cast.framework,q().addEventListener(O.CastContextEventType.CAST_STATE_CHANGED,n=>{Jt.forEach(l=>{var m,d;return(d=(m=D.get(l)).onCastStateChanged)==null?void 0:d.call(m,n)})}),q().addEventListener(O.CastContextEventType.SESSION_STATE_CHANGED,n=>{Jt.forEach(l=>{var m,d;return(d=(m=D.get(l)).onSessionStateChanged)==null?void 0:d.call(m,n)})}),Jt.forEach(n=>{var l,m;return(m=(l=D.get(n)).init)==null?void 0:m.call(l)}))});var qe=0,y,wt,L,V,dt,ut,Y,Zt,_,at,Fe,ge,Ye,Ee,Ue,be,Qt=class extends EventTarget{constructor(t){super();h(this,_);h(this,y);h(this,wt);h(this,L);h(this,V);h(this,dt,"disconnected");h(this,ut,!1);h(this,Y,new Set);h(this,Zt,new WeakMap);c(this,y,t),Jt.add(this),D.set(this,{init:()=>v(this,_,Ee).call(this),onCastStateChanged:()=>v(this,_,ge).call(this),onSessionStateChanged:()=>v(this,_,Ye).call(this),getCastPlayer:()=>i(this,_,at)}),v(this,_,Ee).call(this)}get state(){return i(this,dt)}async watchAvailability(t){if(i(this,y).disableRemotePlayback)throw new Et("disableRemotePlayback attribute is present.");return i(this,Zt).set(t,++qe),i(this,Y).add(t),qe}async cancelWatchAvailability(t){if(i(this,y).disableRemotePlayback)throw new Et("disableRemotePlayback attribute is present.");t?i(this,Y).delete(t):i(this,Y).clear()}async prompt(){var s,n,l,m;if(i(this,y).disableRemotePlayback)throw new Et("disableRemotePlayback attribute is present.");if(!((n=(s=globalThis.chrome)==null?void 0:s.cast)!=null&&n.isAvailable))throw new zt("The RemotePlayback API is disabled on this platform.");let t=F.has(i(this,y));F.add(i(this,y)),me(i(this,y).castOptions),Object.entries(i(this,V)).forEach(([d,b])=>{i(this,L).controller.addEventListener(d,b)});try{await q().requestSession()}catch(d){if(d==="cancel"){t||F.delete(i(this,y));return}throw new Error(d)}(m=(l=D.get(i(this,y)))==null?void 0:l.loadOnPrompt)==null||m.call(l)}};y=new WeakMap,wt=new WeakMap,L=new WeakMap,V=new WeakMap,dt=new WeakMap,ut=new WeakMap,Y=new WeakMap,Zt=new WeakMap,_=new WeakSet,at=function(){if(F.has(i(this,y)))return i(this,L)},Fe=function(){F.has(i(this,y))&&(Object.entries(i(this,V)).forEach(([t,s])=>{i(this,L).controller.removeEventListener(t,s)}),F.delete(i(this,y)),i(this,y).muted=i(this,L).isMuted,i(this,y).currentTime=i(this,L).savedPlayerState.currentTime,i(this,L).savedPlayerState.isPaused===!1&&i(this,y).play())},ge=function(){let t=q().getCastState();if(F.has(i(this,y))&&t==="CONNECTING"&&(c(this,dt,"connecting"),this.dispatchEvent(new Event("connecting"))),!i(this,ut)&&(t!=null&&t.includes("CONNECT"))){c(this,ut,!0);for(let s of i(this,Y))s(!0)}else if(i(this,ut)&&(!t||t==="NO_DEVICES_AVAILABLE")){c(this,ut,!1);for(let s of i(this,Y))s(!1)}},Ye=async function(){var s;let{SESSION_RESUMED:t}=O.SessionState;if(q().getSessionState()===t&&i(this,y).castSrc===((s=Xt())==null?void 0:s.media.contentId)){F.add(i(this,y)),Object.entries(i(this,V)).forEach(([n,l])=>{i(this,L).controller.addEventListener(n,l)});try{await Ke(new chrome.cast.media.GetStatusRequest)}catch(n){console.error(n)}i(this,V)[O.RemotePlayerEventType.IS_PAUSED_CHANGED](),i(this,V)[O.RemotePlayerEventType.PLAYER_STATE_CHANGED]()}},Ee=function(){!O||i(this,wt)||(c(this,wt,!0),me(i(this,y).castOptions),i(this,y).textTracks.addEventListener("change",()=>v(this,_,be).call(this)),v(this,_,ge).call(this),c(this,L,new O.RemotePlayer),new O.RemotePlayerController(i(this,L)),c(this,V,{[O.RemotePlayerEventType.IS_CONNECTED_CHANGED]:({value:t})=>{t===!0?(c(this,dt,"connected"),this.dispatchEvent(new Event("connect"))):(v(this,_,Fe).call(this),c(this,dt,"disconnected"),this.dispatchEvent(new Event("disconnect")))},[O.RemotePlayerEventType.DURATION_CHANGED]:()=>{i(this,y).dispatchEvent(new Event("durationchange"))},[O.RemotePlayerEventType.VOLUME_LEVEL_CHANGED]:()=>{i(this,y).dispatchEvent(new Event("volumechange"))},[O.RemotePlayerEventType.IS_MUTED_CHANGED]:()=>{i(this,y).dispatchEvent(new Event("volumechange"))},[O.RemotePlayerEventType.CURRENT_TIME_CHANGED]:()=>{var t;(t=i(this,_,at))!=null&&t.isMediaLoaded&&i(this,y).dispatchEvent(new Event("timeupdate"))},[O.RemotePlayerEventType.VIDEO_INFO_CHANGED]:()=>{i(this,y).dispatchEvent(new Event("resize"))},[O.RemotePlayerEventType.IS_PAUSED_CHANGED]:()=>{i(this,y).dispatchEvent(new Event(this.paused?"pause":"play"))},[O.RemotePlayerEventType.PLAYER_STATE_CHANGED]:()=>{var t,s;((t=i(this,_,at))==null?void 0:t.playerState)!==chrome.cast.media.PlayerState.PAUSED&&i(this,y).dispatchEvent(new Event({[chrome.cast.media.PlayerState.PLAYING]:"playing",[chrome.cast.media.PlayerState.BUFFERING]:"waiting",[chrome.cast.media.PlayerState.IDLE]:"emptied"}[(s=i(this,_,at))==null?void 0:s.playerState]))},[O.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED]:async()=>{var t;(t=i(this,_,at))!=null&&t.isMediaLoaded&&(await Promise.resolve(),v(this,_,Ue).call(this))}}))},Ue=function(){v(this,_,be).call(this)},be=async function(){var a,p,R,k,rt;if(!i(this,_,at))return;let s=((p=(a=i(this,L).mediaInfo)==null?void 0:a.tracks)!=null?p:[]).filter(({type:C})=>C===chrome.cast.media.TrackType.TEXT),n=[...i(this,y).textTracks].filter(({kind:C})=>C==="subtitles"||C==="captions"),l=s.map(({language:C,name:st,trackId:N})=>{var x;let{mode:nt}=(x=n.find(ye=>ye.language===C&&ye.label===st))!=null?x:{};return nt?{mode:nt,trackId:N}:!1}).filter(Boolean),d=l.filter(({mode:C})=>C!=="showing").map(({trackId:C})=>C),b=l.find(({mode:C})=>C==="showing"),M=(rt=(k=(R=Nt())==null?void 0:R.getSessionObj().media[0])==null?void 0:k.activeTrackIds)!=null?rt:[],K=M;if(M.length&&(K=K.filter(C=>!d.includes(C))),b!=null&&b.trackId&&(K=[...K,b.trackId]),K=[...new Set(K)],!((C,st)=>C.length===st.length&&C.every(N=>st.includes(N)))(M,K))try{let C=new chrome.cast.media.EditTracksInfoRequest(K);await Be(C)}catch(C){console.error(C)}};var je=e=>{var r,t,s,n,l,m,d,T,We;return t=class extends e{constructor(){super(...arguments);h(this,d);h(this,s,{paused:!1});h(this,n,pe());h(this,l);h(this,m)}get remote(){return i(this,m)?i(this,m):Ve()?(this.disableRemotePlayback||Ge(),D.set(this,{loadOnPrompt:()=>v(this,d,We).call(this)}),c(this,m,new Qt(this))):super.remote}attributeChangedCallback(a,p,R){if(super.attributeChangedCallback(a,p,R),a==="cast-receiver"&&R){i(this,n).receiverApplicationId=R;return}if(i(this,d,T))switch(a){case"cast-stream-type":case"cast-src":this.load();break}}async load(){var C,st;if(!i(this,d,T))return super.load();let a=new chrome.cast.media.MediaInfo(this.castSrc,this.castContentType);a.customData=this.castCustomData;let p=[...this.querySelectorAll("track")].filter(({kind:N,src:nt})=>nt&&(N==="subtitles"||N==="captions")),R=[],k=0;p.length&&(a.tracks=p.map(N=>{let nt=++k;R.length===0&&N.track.mode==="showing"&&R.push(nt);let x=new chrome.cast.media.Track(nt,chrome.cast.media.TrackType.TEXT);return x.trackContentId=N.src,x.trackContentType="text/vtt",x.subtype=N.kind==="captions"?chrome.cast.media.TextTrackType.CAPTIONS:chrome.cast.media.TextTrackType.SUBTITLES,x.name=N.label,x.language=N.srclang,x})),this.castStreamType==="live"?a.streamType=chrome.cast.media.StreamType.LIVE:a.streamType=chrome.cast.media.StreamType.BUFFERED,a.metadata=new chrome.cast.media.GenericMediaMetadata,a.metadata.title=this.title,a.metadata.images=[{url:this.poster}];let rt=new chrome.cast.media.LoadRequest(a);rt.currentTime=(C=super.currentTime)!=null?C:0,rt.autoplay=!i(this,s).paused,rt.activeTrackIds=R,await((st=Nt())==null?void 0:st.loadMedia(rt)),this.dispatchEvent(new Event("volumechange"))}play(){var a;if(i(this,d,T)){i(this,d,T).isPaused&&((a=i(this,d,T).controller)==null||a.playOrPause());return}return super.play()}pause(){var a;if(i(this,d,T)){i(this,d,T).isPaused||(a=i(this,d,T).controller)==null||a.playOrPause();return}super.pause()}get castOptions(){return i(this,n)}get castReceiver(){var a;return(a=this.getAttribute("cast-receiver"))!=null?a:void 0}set castReceiver(a){this.castReceiver!=a&&this.setAttribute("cast-receiver",`${a}`)}get castSrc(){var a,p,R;return(R=(p=this.getAttribute("cast-src"))!=null?p:(a=this.querySelector("source"))==null?void 0:a.src)!=null?R:this.currentSrc}set castSrc(a){this.castSrc!=a&&this.setAttribute("cast-src",`${a}`)}get castContentType(){var a;return(a=this.getAttribute("cast-content-type"))!=null?a:void 0}set castContentType(a){this.setAttribute("cast-content-type",`${a}`)}get castStreamType(){var a,p;return(p=(a=this.getAttribute("cast-stream-type"))!=null?a:this.streamType)!=null?p:void 0}set castStreamType(a){this.setAttribute("cast-stream-type",`${a}`)}get castCustomData(){return i(this,l)}set castCustomData(a){let p=typeof a;if(!["object","undefined"].includes(p)){console.error(`castCustomData must be nullish or an object but value was of type ${p}`);return}c(this,l,a)}get readyState(){if(i(this,d,T))switch(i(this,d,T).playerState){case chrome.cast.media.PlayerState.IDLE:return 0;case chrome.cast.media.PlayerState.BUFFERING:return 2;default:return 3}return super.readyState}get paused(){return i(this,d,T)?i(this,d,T).isPaused:super.paused}get muted(){var a;return i(this,d,T)?(a=i(this,d,T))==null?void 0:a.isMuted:super.muted}set muted(a){var p;if(i(this,d,T)){(a&&!i(this,d,T).isMuted||!a&&i(this,d,T).isMuted)&&((p=i(this,d,T).controller)==null||p.muteOrUnmute());return}super.muted=a}get volume(){var a,p;return i(this,d,T)?(p=(a=i(this,d,T))==null?void 0:a.volumeLevel)!=null?p:1:super.volume}set volume(a){var p;if(i(this,d,T)){i(this,d,T).volumeLevel=+a,(p=i(this,d,T).controller)==null||p.setVolumeLevel();return}super.volume=a}get duration(){var a,p,R;return i(this,d,T)&&((a=i(this,d,T))!=null&&a.isMediaLoaded)?(R=(p=i(this,d,T))==null?void 0:p.duration)!=null?R:NaN:super.duration}get currentTime(){var a,p,R;return i(this,d,T)&&((a=i(this,d,T))!=null&&a.isMediaLoaded)?(R=(p=i(this,d,T))==null?void 0:p.currentTime)!=null?R:0:super.currentTime}set currentTime(a){var p;if(i(this,d,T)){i(this,d,T).currentTime=a,(p=i(this,d,T).controller)==null||p.seek();return}super.currentTime=a}},s=new WeakMap,n=new WeakMap,l=new WeakMap,m=new WeakMap,d=new WeakSet,T=function(){var a,p;return(p=(a=D.get(this.remote))==null?void 0:a.getCastPlayer)==null?void 0:p.call(a)},We=async function(){i(this,s).paused=Wt(t.prototype,this,"paused"),Wt(t.prototype,this,"pause").call(this),this.muted=Wt(t.prototype,this,"muted");try{await this.load()}catch(a){console.error(a)}},E(t,"observedAttributes",[...(r=e.observedAttributes)!=null?r:[],"cast-src","cast-content-type","cast-stream-type","cast-receiver"]),t};var G=class extends Event{constructor(t,s){super(t);E(this,"track");this.track=s.track}};var Te=new WeakMap;function u(e){var r;return(r=Te.get(e))!=null?r:Ti(e,{})}function Ti(e,r){let t=Te.get(e);return t||Te.set(e,t={}),Object.assign(t,r)}function te(e,r){let t=e.videoTracks;u(r).media=e,u(r).renditionSet||(u(r).renditionSet=new Set);let s=u(t).trackSet;s.add(r);let n=s.size-1;n in ht.prototype||Object.defineProperty(ht.prototype,n,{get(){return[...u(this).trackSet][n]}}),queueMicrotask(()=>{t.dispatchEvent(new G("addtrack",{track:r}))})}function ee(e){var s;let r=(s=u(e).media)==null?void 0:s.videoTracks;if(!r)return;u(r).trackSet.delete(e),queueMicrotask(()=>{r.dispatchEvent(new G("removetrack",{track:e}))})}function $e(e){var s;let r=(s=u(e).media.videoTracks)!=null?s:[],t=!1;for(let n of r)n!==e&&(n.selected=!1,t=!0);if(t){if(u(r).changeRequested)return;u(r).changeRequested=!0,queueMicrotask(()=>{delete u(r).changeRequested,r.dispatchEvent(new Event("change"))})}}var U,j,W,ct,xt,ht=class extends EventTarget{constructor(){super();h(this,ct);h(this,U);h(this,j);h(this,W);u(this).trackSet=new Set}[Symbol.iterator](){return i(this,ct,xt).values()}get length(){return i(this,ct,xt).size}getTrackById(t){var s;return(s=[...i(this,ct,xt)].find(n=>n.id===t))!=null?s:null}get selectedIndex(){return[...i(this,ct,xt)].findIndex(t=>t.selected)}get onaddtrack(){return i(this,U)}set onaddtrack(t){i(this,U)&&(this.removeEventListener("addtrack",i(this,U)),c(this,U,void 0)),typeof t=="function"&&(c(this,U,t),this.addEventListener("addtrack",t))}get onremovetrack(){return i(this,j)}set onremovetrack(t){i(this,j)&&(this.removeEventListener("removetrack",i(this,j)),c(this,j,void 0)),typeof t=="function"&&(c(this,j,t),this.addEventListener("removetrack",t))}get onchange(){return i(this,W)}set onchange(t){i(this,W)&&(this.removeEventListener("change",i(this,W)),c(this,W,void 0)),typeof t=="function"&&(c(this,W,t),this.addEventListener("change",t))}};U=new WeakMap,j=new WeakMap,W=new WeakMap,ct=new WeakSet,xt=function(){return u(this).trackSet};var B=class extends Event{constructor(t,s){super(t);E(this,"rendition");this.rendition=s.rendition}};function He(e,r){let t=u(e).media.videoRenditions;u(r).media=u(e).media,u(r).track=e;let s=u(e).renditionSet;s.add(r);let n=s.size-1;n in lt.prototype||Object.defineProperty(lt.prototype,n,{get(){return bt(this)[n]}}),queueMicrotask(()=>{e.selected&&t.dispatchEvent(new B("addrendition",{rendition:r}))})}function ze(e){let r=u(e).media.videoRenditions,t=u(e).track;u(t).renditionSet.delete(e),queueMicrotask(()=>{u(e).track.selected&&r.dispatchEvent(new B("removerendition",{rendition:e}))})}function Xe(e){let r=u(e).media.videoRenditions;!r||u(r).changeRequested||(u(r).changeRequested=!0,queueMicrotask(()=>{delete u(r).changeRequested,u(e).track.selected&&r.dispatchEvent(new Event("change"))}))}function bt(e){return[...u(e).media.videoTracks].filter(t=>t.selected).flatMap(t=>[...u(t).renditionSet])}var $,H,z,lt=class extends EventTarget{constructor(){super(...arguments);h(this,$);h(this,H);h(this,z)}[Symbol.iterator](){return bt(this).values()}get length(){return bt(this).length}getRenditionById(t){var s;return(s=bt(this).find(n=>`${n.id}`==`${t}`))!=null?s:null}get selectedIndex(){return bt(this).findIndex(t=>t.selected)}set selectedIndex(t){for(let[s,n]of bt(this).entries())n.selected=s===t}get onaddrendition(){return i(this,$)}set onaddrendition(t){i(this,$)&&(this.removeEventListener("addrendition",i(this,$)),c(this,$,void 0)),typeof t=="function"&&(c(this,$,t),this.addEventListener("addrendition",t))}get onremoverendition(){return i(this,H)}set onremoverendition(t){i(this,H)&&(this.removeEventListener("removerendition",i(this,H)),c(this,H,void 0)),typeof t=="function"&&(c(this,H,t),this.addEventListener("removerendition",t))}get onchange(){return i(this,z)}set onchange(t){i(this,z)&&(this.removeEventListener("change",i(this,z)),c(this,z,void 0)),typeof t=="function"&&(c(this,z,t),this.addEventListener("change",t))}};$=new WeakMap,H=new WeakMap,z=new WeakMap;var Tt,Dt=class{constructor(){E(this,"src");E(this,"id");E(this,"width");E(this,"height");E(this,"bitrate");E(this,"frameRate");E(this,"codec");h(this,Tt,!1)}get selected(){return i(this,Tt)}set selected(r){i(this,Tt)!==r&&(c(this,Tt,r),Xe(this))}};Tt=new WeakMap;var vt,yt=class{constructor(){E(this,"id");E(this,"kind");E(this,"label","");E(this,"language","");E(this,"sourceBuffer");h(this,vt,!1)}addRendition(r,t,s,n,l,m){let d=new Dt;return d.src=r,d.width=t,d.height=s,d.frameRate=m,d.bitrate=l,d.codec=n,He(this,d),d}removeRendition(r){ze(r)}get selected(){return i(this,vt)}set selected(r){i(this,vt)!==r&&(c(this,vt,r),r===!0&&$e(this))}};vt=new WeakMap;function Je(e,r){let t=u(e).media.audioRenditions;u(r).media=u(e).media,u(r).track=e;let s=u(e).renditionSet;s.add(r);let n=s.size-1;n in ft.prototype||Object.defineProperty(ft.prototype,n,{get(){return At(this)[n]}}),queueMicrotask(()=>{e.enabled&&t.dispatchEvent(new B("addrendition",{rendition:r}))})}function Qe(e){let r=u(e).media.audioRenditions,t=u(e).track;u(t).renditionSet.delete(e),queueMicrotask(()=>{u(e).track.enabled&&r.dispatchEvent(new B("removerendition",{rendition:e}))})}function Ze(e){let r=u(e).media.audioRenditions;!r||u(r).changeRequested||(u(r).changeRequested=!0,queueMicrotask(()=>{delete u(r).changeRequested,u(e).track.enabled&&r.dispatchEvent(new Event("change"))}))}function At(e){return[...u(e).media.audioTracks].filter(t=>t.enabled).flatMap(t=>[...u(t).renditionSet])}var X,J,Q,ft=class extends EventTarget{constructor(){super(...arguments);h(this,X);h(this,J);h(this,Q)}[Symbol.iterator](){return At(this).values()}get length(){return At(this).length}getRenditionById(t){var s;return(s=At(this).find(n=>`${n.id}`==`${t}`))!=null?s:null}get selectedIndex(){return At(this).findIndex(t=>t.selected)}set selectedIndex(t){for(let[s,n]of At(this).entries())n.selected=s===t}get onaddrendition(){return i(this,X)}set onaddrendition(t){i(this,X)&&(this.removeEventListener("addrendition",i(this,X)),c(this,X,void 0)),typeof t=="function"&&(c(this,X,t),this.addEventListener("addrendition",t))}get onremoverendition(){return i(this,J)}set onremoverendition(t){i(this,J)&&(this.removeEventListener("removerendition",i(this,J)),c(this,J,void 0)),typeof t=="function"&&(c(this,J,t),this.addEventListener("removerendition",t))}get onchange(){return i(this,Q)}set onchange(t){i(this,Q)&&(this.removeEventListener("change",i(this,Q)),c(this,Q,void 0)),typeof t=="function"&&(c(this,Q,t),this.addEventListener("change",t))}};X=new WeakMap,J=new WeakMap,Q=new WeakMap;var kt,Vt=class{constructor(){E(this,"src");E(this,"id");E(this,"bitrate");E(this,"codec");h(this,kt,!1)}get selected(){return i(this,kt)}set selected(r){i(this,kt)!==r&&(c(this,kt,r),Ze(this))}};kt=new WeakMap;function re(e,r){let t=e.audioTracks;u(r).media=e,u(r).renditionSet||(u(r).renditionSet=new Set);let s=u(t).trackSet;s.add(r);let n=s.size-1;n in mt.prototype||Object.defineProperty(mt.prototype,n,{get(){return[...u(this).trackSet][n]}}),queueMicrotask(()=>{t.dispatchEvent(new G("addtrack",{track:r}))})}function se(e){var s;let r=(s=u(e).media)==null?void 0:s.audioTracks;if(!r)return;u(r).trackSet.delete(e),queueMicrotask(()=>{r.dispatchEvent(new G("removetrack",{track:e}))})}function ti(e){let r=u(e).media.audioTracks;!r||u(r).changeRequested||(u(r).changeRequested=!0,queueMicrotask(()=>{delete u(r).changeRequested,r.dispatchEvent(new Event("change"))}))}var Z,tt,et,St,ie,mt=class extends EventTarget{constructor(){super();h(this,St);h(this,Z);h(this,tt);h(this,et);u(this).trackSet=new Set}[Symbol.iterator](){return i(this,St,ie).values()}get length(){return i(this,St,ie).size}getTrackById(t){var s;return(s=[...i(this,St,ie)].find(n=>n.id===t))!=null?s:null}get onaddtrack(){return i(this,Z)}set onaddtrack(t){i(this,Z)&&(this.removeEventListener("addtrack",i(this,Z)),c(this,Z,void 0)),typeof t=="function"&&(c(this,Z,t),this.addEventListener("addtrack",t))}get onremovetrack(){return i(this,tt)}set onremovetrack(t){i(this,tt)&&(this.removeEventListener("removetrack",i(this,tt)),c(this,tt,void 0)),typeof t=="function"&&(c(this,tt,t),this.addEventListener("removetrack",t))}get onchange(){return i(this,et)}set onchange(t){i(this,et)&&(this.removeEventListener("change",i(this,et)),c(this,et,void 0)),typeof t=="function"&&(c(this,et,t),this.addEventListener("change",t))}};Z=new WeakMap,tt=new WeakMap,et=new WeakMap,St=new WeakSet,ie=function(){return u(this).trackSet};var Rt,Ct=class{constructor(){E(this,"id");E(this,"kind");E(this,"label","");E(this,"language","");E(this,"sourceBuffer");h(this,Rt,!1)}addRendition(r,t,s){let n=new Vt;return n.src=r,n.codec=t,n.bitrate=s,Je(this,n),n}removeRendition(r){Qe(r)}get enabled(){return i(this,Rt)}set enabled(r){i(this,Rt)!==r&&(c(this,Rt,r),ti(this))}};Rt=new WeakMap;var ei=ne(globalThis.HTMLMediaElement,"video"),ii=ne(globalThis.HTMLMediaElement,"audio");function ri(e){if(!(e!=null&&e.prototype))return e;let r=ne(e,"video");(!r||`${r}`.includes("[native code]"))&&Object.defineProperty(e.prototype,"videoTracks",{get(){return vi(this)}});let t=ne(e,"audio");(!t||`${t}`.includes("[native code]"))&&Object.defineProperty(e.prototype,"audioTracks",{get(){return yi(this)}}),"addVideoTrack"in e.prototype||(e.prototype.addVideoTrack=function(l,m="",d=""){let b=new yt;return b.kind=l,b.label=m,b.language=d,te(this,b),b}),"removeVideoTrack"in e.prototype||(e.prototype.removeVideoTrack=ee),"addAudioTrack"in e.prototype||(e.prototype.addAudioTrack=function(l,m="",d=""){let b=new Ct;return b.kind=l,b.label=m,b.language=d,re(this,b),b}),"removeAudioTrack"in e.prototype||(e.prototype.removeAudioTrack=se),"videoRenditions"in e.prototype||Object.defineProperty(e.prototype,"videoRenditions",{get(){return s(this)}});let s=l=>{let m=u(l).videoRenditions;return m||(m=new lt,u(m).media=l,u(l).videoRenditions=m),m};"audioRenditions"in e.prototype||Object.defineProperty(e.prototype,"audioRenditions",{get(){return n(this)}});let n=l=>{let m=u(l).audioRenditions;return m||(m=new ft,u(m).media=l,u(l).audioRenditions=m),m};return e}function ne(e,r){var t;if(e!=null&&e.prototype)return(t=Object.getOwnPropertyDescriptor(e.prototype,`${r}Tracks`))==null?void 0:t.get}function vi(e){var t;let r=u(e).videoTracks;if(!r&&(r=new ht,u(e).videoTracks=r,ei)){let s=ei.call((t=e.nativeEl)!=null?t:e);for(let n of s)te(e,n);s.addEventListener("change",()=>{r.dispatchEvent(new Event("change"))}),s.addEventListener("addtrack",n=>{if([...r].some(l=>l instanceof yt)){for(let l of s)ee(l);return}te(e,n.track)}),s.addEventListener("removetrack",n=>{ee(n.track)})}return r}function yi(e){var t;let r=u(e).audioTracks;if(!r&&(r=new mt,u(e).audioTracks=r,ii)){let s=ii.call((t=e.nativeEl)!=null?t:e);for(let n of s)re(e,n);s.addEventListener("change",()=>{r.dispatchEvent(new Event("change"))}),s.addEventListener("addtrack",n=>{if([...r].some(l=>l instanceof Ct)){for(let l of s)se(l);return}re(e,n.track)}),s.addEventListener("removetrack",n=>{se(n.track)})}return r}fe.push("castchange","entercast","leavecast");var o={BEACON_COLLECTION_DOMAIN:"beacon-collection-domain",CUSTOM_DOMAIN:"custom-domain",DEBUG:"debug",DISABLE_TRACKING:"disable-tracking",DISABLE_COOKIES:"disable-cookies",DRM_TOKEN:"drm-token",PLAYBACK_TOKEN:"playback-token",ENV_KEY:"env-key",MAX_RESOLUTION:"max-resolution",MIN_RESOLUTION:"min-resolution",RENDITION_ORDER:"rendition-order",PROGRAM_START_TIME:"program-start-time",PROGRAM_END_TIME:"program-end-time",ASSET_START_TIME:"asset-start-time",ASSET_END_TIME:"asset-end-time",METADATA_URL:"metadata-url",PLAYBACK_ID:"playback-id",PLAYER_SOFTWARE_NAME:"player-software-name",PLAYER_SOFTWARE_VERSION:"player-software-version",PLAYER_INIT_TIME:"player-init-time",PREFER_CMCD:"prefer-cmcd",PREFER_PLAYBACK:"prefer-playback",START_TIME:"start-time",STREAM_TYPE:"stream-type",TARGET_LIVE_WINDOW:"target-live-window",LIVE_EDGE_OFFSET:"live-edge-offset",TYPE:"type"},Fi=Object.values(o),ni=Re(),oi="mux-video",w,_t,Bt,It,Kt,qt,Ft,Yt,Ut,Pt,ae,ve=class extends Ht{constructor(){super();h(this,Pt);h(this,w);h(this,_t);h(this,Bt);h(this,It,{});h(this,Kt,{});h(this,qt);h(this,Ft);h(this,Yt);h(this,Ut);c(this,Bt,Si())}static get NAME(){return oi}static get VERSION(){return ni}static get observedAttributes(){var t;return[...Fi,...(t=Ht.observedAttributes)!=null?t:[]]}get preferCmcd(){var t;return(t=this.getAttribute(o.PREFER_CMCD))!=null?t:void 0}set preferCmcd(t){t!==this.preferCmcd&&(t?si.includes(t)?this.setAttribute(o.PREFER_CMCD,t):console.warn(`Invalid value for preferCmcd. Must be one of ${si.join()}`):this.removeAttribute(o.PREFER_CMCD))}get playerInitTime(){return this.hasAttribute(o.PLAYER_INIT_TIME)?+this.getAttribute(o.PLAYER_INIT_TIME):i(this,Bt)}set playerInitTime(t){t!=this.playerInitTime&&(t==null?this.removeAttribute(o.PLAYER_INIT_TIME):this.setAttribute(o.PLAYER_INIT_TIME,`${+t}`))}get playerSoftwareName(){var t;return(t=i(this,Yt))!=null?t:oi}set playerSoftwareName(t){c(this,Yt,t)}get playerSoftwareVersion(){var t;return(t=i(this,Ft))!=null?t:ni}set playerSoftwareVersion(t){c(this,Ft,t)}get _hls(){var t;return(t=i(this,w))==null?void 0:t.engine}get mux(){var t;return(t=this.nativeEl)==null?void 0:t.mux}get error(){var t;return(t=Ci(this.nativeEl))!=null?t:null}get errorTranslator(){return i(this,Ut)}set errorTranslator(t){c(this,Ut,t)}get src(){return this.getAttribute("src")}set src(t){t!==this.src&&(t==null?this.removeAttribute("src"):this.setAttribute("src",t))}get type(){var t;return(t=this.getAttribute(o.TYPE))!=null?t:void 0}set type(t){t!==this.type&&(t?this.setAttribute(o.TYPE,t):this.removeAttribute(o.TYPE))}get autoplay(){let t=this.getAttribute("autoplay");return t===null?!1:t===""?!0:t}set autoplay(t){let s=this.autoplay;t!==s&&(t?this.setAttribute("autoplay",typeof t=="string"?t:""):this.removeAttribute("autoplay"))}get preload(){let t=this.getAttribute("preload");return t===""?"auto":["none","metadata","auto"].includes(t)?t:super.preload}set preload(t){t!=this.getAttribute("preload")&&(["","none","metadata","auto"].includes(t)?this.setAttribute("preload",t):this.removeAttribute("preload"))}get debug(){return this.getAttribute(o.DEBUG)!=null}set debug(t){t!==this.debug&&(t?this.setAttribute(o.DEBUG,""):this.removeAttribute(o.DEBUG))}get disableTracking(){return this.hasAttribute(o.DISABLE_TRACKING)}set disableTracking(t){t!==this.disableTracking&&this.toggleAttribute(o.DISABLE_TRACKING,!!t)}get disableCookies(){return this.hasAttribute(o.DISABLE_COOKIES)}set disableCookies(t){t!==this.disableCookies&&(t?this.setAttribute(o.DISABLE_COOKIES,""):this.removeAttribute(o.DISABLE_COOKIES))}get startTime(){let t=this.getAttribute(o.START_TIME);if(t==null)return;let s=+t;return Number.isNaN(s)?void 0:s}set startTime(t){t!==this.startTime&&(t==null?this.removeAttribute(o.START_TIME):this.setAttribute(o.START_TIME,`${t}`))}get playbackId(){var t;return this.hasAttribute(o.PLAYBACK_ID)?this.getAttribute(o.PLAYBACK_ID):(t=Ki(this.src))!=null?t:void 0}set playbackId(t){t!==this.playbackId&&(t?this.setAttribute(o.PLAYBACK_ID,t):this.removeAttribute(o.PLAYBACK_ID))}get maxResolution(){var t;return(t=this.getAttribute(o.MAX_RESOLUTION))!=null?t:void 0}set maxResolution(t){t!==this.maxResolution&&(t?this.setAttribute(o.MAX_RESOLUTION,t):this.removeAttribute(o.MAX_RESOLUTION))}get minResolution(){var t;return(t=this.getAttribute(o.MIN_RESOLUTION))!=null?t:void 0}set minResolution(t){t!==this.minResolution&&(t?this.setAttribute(o.MIN_RESOLUTION,t):this.removeAttribute(o.MIN_RESOLUTION))}get renditionOrder(){var t;return(t=this.getAttribute(o.RENDITION_ORDER))!=null?t:void 0}set renditionOrder(t){t!==this.renditionOrder&&(t?this.setAttribute(o.RENDITION_ORDER,t):this.removeAttribute(o.RENDITION_ORDER))}get programStartTime(){let t=this.getAttribute(o.PROGRAM_START_TIME);if(t==null)return;let s=+t;return Number.isNaN(s)?void 0:s}set programStartTime(t){t==null?this.removeAttribute(o.PROGRAM_START_TIME):this.setAttribute(o.PROGRAM_START_TIME,`${t}`)}get programEndTime(){let t=this.getAttribute(o.PROGRAM_END_TIME);if(t==null)return;let s=+t;return Number.isNaN(s)?void 0:s}set programEndTime(t){t==null?this.removeAttribute(o.PROGRAM_END_TIME):this.setAttribute(o.PROGRAM_END_TIME,`${t}`)}get assetStartTime(){let t=this.getAttribute(o.ASSET_START_TIME);if(t==null)return;let s=+t;return Number.isNaN(s)?void 0:s}set assetStartTime(t){t==null?this.removeAttribute(o.ASSET_START_TIME):this.setAttribute(o.ASSET_START_TIME,`${t}`)}get assetEndTime(){let t=this.getAttribute(o.ASSET_END_TIME);if(t==null)return;let s=+t;return Number.isNaN(s)?void 0:s}set assetEndTime(t){t==null?this.removeAttribute(o.ASSET_END_TIME):this.setAttribute(o.ASSET_END_TIME,`${t}`)}get customDomain(){var t;return(t=this.getAttribute(o.CUSTOM_DOMAIN))!=null?t:void 0}set customDomain(t){t!==this.customDomain&&(t?this.setAttribute(o.CUSTOM_DOMAIN,t):this.removeAttribute(o.CUSTOM_DOMAIN))}get drmToken(){var t;return(t=this.getAttribute(o.DRM_TOKEN))!=null?t:void 0}set drmToken(t){t!==this.drmToken&&(t?this.setAttribute(o.DRM_TOKEN,t):this.removeAttribute(o.DRM_TOKEN))}get playbackToken(){var t,s,n,l;if(this.hasAttribute(o.PLAYBACK_TOKEN))return(t=this.getAttribute(o.PLAYBACK_TOKEN))!=null?t:void 0;if(this.hasAttribute(o.PLAYBACK_ID)){let[,m]=qi((s=this.playbackId)!=null?s:"");return(n=new URLSearchParams(m).get("token"))!=null?n:void 0}if(this.src)return(l=new URLSearchParams(this.src).get("token"))!=null?l:void 0}set playbackToken(t){t!==this.playbackToken&&(t?this.setAttribute(o.PLAYBACK_TOKEN,t):this.removeAttribute(o.PLAYBACK_TOKEN))}get tokens(){let t=this.getAttribute(o.PLAYBACK_TOKEN),s=this.getAttribute(o.DRM_TOKEN);return{...i(this,Kt),...t!=null?{playback:t}:{},...s!=null?{drm:s}:{}}}set tokens(t){c(this,Kt,t!=null?t:{})}get ended(){return Gi(this.nativeEl,this._hls)}get envKey(){var t;return(t=this.getAttribute(o.ENV_KEY))!=null?t:void 0}set envKey(t){t!==this.envKey&&(t?this.setAttribute(o.ENV_KEY,t):this.removeAttribute(o.ENV_KEY))}get beaconCollectionDomain(){var t;return(t=this.getAttribute(o.BEACON_COLLECTION_DOMAIN))!=null?t:void 0}set beaconCollectionDomain(t){t!==this.beaconCollectionDomain&&(t?this.setAttribute(o.BEACON_COLLECTION_DOMAIN,t):this.removeAttribute(o.BEACON_COLLECTION_DOMAIN))}get streamType(){var t;return(t=this.getAttribute(o.STREAM_TYPE))!=null?t:wi(this.nativeEl)}set streamType(t){t!==this.streamType&&(t?this.setAttribute(o.STREAM_TYPE,t):this.removeAttribute(o.STREAM_TYPE))}get targetLiveWindow(){return this.hasAttribute(o.TARGET_LIVE_WINDOW)?+this.getAttribute(o.TARGET_LIVE_WINDOW):xi(this.nativeEl)}set targetLiveWindow(t){t!=this.targetLiveWindow&&(t==null?this.removeAttribute(o.TARGET_LIVE_WINDOW):this.setAttribute(o.TARGET_LIVE_WINDOW,`${+t}`))}get liveEdgeStart(){var t,s;if(this.hasAttribute(o.LIVE_EDGE_OFFSET)){let{liveEdgeOffset:n}=this,l=(t=this.nativeEl.seekable.end(0))!=null?t:0,m=(s=this.nativeEl.seekable.start(0))!=null?s:0;return Math.max(m,l-n)}return Di(this.nativeEl)}get liveEdgeOffset(){if(this.hasAttribute(o.LIVE_EDGE_OFFSET))return+this.getAttribute(o.LIVE_EDGE_OFFSET)}set liveEdgeOffset(t){t!=this.liveEdgeOffset&&(t==null?this.removeAttribute(o.LIVE_EDGE_OFFSET):this.setAttribute(o.LIVE_EDGE_OFFSET,`${+t}`))}get seekable(){return Vi(this.nativeEl)}async addCuePoints(t){return _i(this.nativeEl,t)}get activeCuePoint(){return Pi(this.nativeEl)}get cuePoints(){return Ii(this.nativeEl)}async addChapters(t){return Oi(this.nativeEl,t)}get activeChapter(){return Li(this.nativeEl)}get chapters(){return Bi(this.nativeEl)}getStartDate(){return Mi(this.nativeEl,this._hls)}get currentPdt(){return Ni(this.nativeEl,this._hls)}get preferPlayback(){let t=this.getAttribute(o.PREFER_PLAYBACK);if(t===oe.MSE||t===oe.NATIVE)return t}set preferPlayback(t){t!==this.preferPlayback&&(t===oe.MSE||t===oe.NATIVE?this.setAttribute(o.PREFER_PLAYBACK,t):this.removeAttribute(o.PREFER_PLAYBACK))}get metadata(){return{...this.getAttributeNames().filter(s=>s.startsWith("metadata-")&&![o.METADATA_URL].includes(s)).reduce((s,n)=>{let l=this.getAttribute(n);return l!=null&&(s[n.replace(/^metadata-/,"").replace(/-/g,"_")]=l),s},{}),...i(this,It)}}set metadata(t){c(this,It,t!=null?t:{}),this.mux&&this.mux.emit("hb",i(this,It))}get _hlsConfig(){return i(this,qt)}set _hlsConfig(t){c(this,qt,t)}load(){c(this,w,Ai(this,this.nativeEl,i(this,w)))}unload(){ki(this.nativeEl,i(this,w)),c(this,w,void 0)}attributeChangedCallback(t,s,n){var m,d;switch(Ht.observedAttributes.includes(t)&&!["src","autoplay","preload"].includes(t)&&super.attributeChangedCallback(t,s,n),t){case o.PLAYER_SOFTWARE_NAME:this.playerSoftwareName=n!=null?n:void 0;break;case o.PLAYER_SOFTWARE_VERSION:this.playerSoftwareVersion=n!=null?n:void 0;break;case"src":{let b=!!s,M=!!n;!b&&M?v(this,Pt,ae).call(this):b&&!M?this.unload():b&&M&&(this.unload(),v(this,Pt,ae).call(this));break}case"autoplay":if(n===s)break;(m=i(this,w))==null||m.setAutoplay(this.autoplay);break;case"preload":if(n===s)break;(d=i(this,w))==null||d.setPreload(n);break;case o.PLAYBACK_ID:this.src=Ri(this);break;case o.DEBUG:{let b=this.debug;this.mux&&console.info("Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src."),this._hls&&(this._hls.config.debug=b);break}case o.METADATA_URL:n&&fetch(n).then(b=>b.json()).then(b=>this.metadata=b).catch(()=>console.error(`Unable to load or parse metadata JSON from metadata-url ${n}!`));break;case o.STREAM_TYPE:(n==null||n!==s)&&this.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}));break;case o.TARGET_LIVE_WINDOW:(n==null||n!==s)&&this.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0,detail:this.targetLiveWindow}));break;default:break}}connectedCallback(){var t;(t=super.connectedCallback)==null||t.call(this),this.nativeEl&&this.src&&!i(this,w)&&v(this,Pt,ae).call(this)}disconnectedCallback(){this.unload()}};w=new WeakMap,_t=new WeakMap,Bt=new WeakMap,It=new WeakMap,Kt=new WeakMap,qt=new WeakMap,Ft=new WeakMap,Yt=new WeakMap,Ut=new WeakMap,Pt=new WeakSet,ae=async function(){i(this,_t)||(await c(this,_t,Promise.resolve()),c(this,_t,null),this.load())};var jt,Gt=class extends je(ri(ve)){constructor(){super(...arguments);h(this,jt)}get muxCastCustomData(){return{mux:{playbackId:this.playbackId,minResolution:this.minResolution,maxResolution:this.maxResolution,renditionOrder:this.renditionOrder,customDomain:this.customDomain,tokens:{drm:this.drmToken},envKey:this.envKey,metadata:this.metadata,disableCookies:this.disableCookies,disableTracking:this.disableTracking,beaconCollectionDomain:this.beaconCollectionDomain,startTime:this.startTime,preferCmcd:this.preferCmcd}}}get castCustomData(){var t;return(t=i(this,jt))!=null?t:this.muxCastCustomData}set castCustomData(t){c(this,jt,t)}};jt=new WeakMap;$t.customElements.get("mux-video")||($t.customElements.define("mux-video",Gt),$t.MuxVideoElement=Gt);var ks=Gt;export{o as Attributes,Es as MediaError,fe as VideoEvents,ks as default,Si as generatePlayerInitTime,oi as playerSoftwareName,ni as playerSoftwareVersion};
//# sourceMappingURL=index.mjs.map
